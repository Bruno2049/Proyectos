@using System.Web.UI.WebControls

 @Html.DevExpress().GridView(
    settings =>
    {
        settings.Name = "GridSupervisor_"+ViewData["despacho"];
        settings.CallbackRouteValues = new { Controller = "RankingPorIndicador", Action = "TablaSupervisor", tipoDashboard = ViewData["tipoDashboard"], indicador = ViewData["indicador"], despacho = ViewData["despacho"], valor = ViewData["valor"], delegacion = ViewData["delegacion"] };
        settings.Width = Unit.Percentage(90);

        settings.KeyFieldName = "Identificador";
        settings.Columns.Add(column =>
        {
            column.FieldName = "Posicion";
            column.Caption = @"Posición";
            column.CellStyle.HorizontalAlign = HorizontalAlign.Right;
        });
        settings.Columns.Add(column =>
        {
            column.FieldName = "Usuario";
            column.Caption = @"Usuario";
            column.CellStyle.HorizontalAlign = HorizontalAlign.Left;
        });
        settings.Columns.Add(column =>
        {
            column.FieldName = "Nombre";
            column.Caption = @"Nombre";
            column.CellStyle.HorizontalAlign = HorizontalAlign.Left;
        });
        settings.Columns.Add(column =>
        {
            column.FieldName = "Valor";
            column.Caption = @"Valor";
            column.CellStyle.HorizontalAlign = HorizontalAlign.Right;
        });

            settings.Columns.Add(column =>
            {
                column.FieldName = "Porcentaje";
                column.Caption = @"Porcentaje";
                column.CellStyle.HorizontalAlign = HorizontalAlign.Right;
                column.PropertiesEdit.DisplayFormatString = @"{0}%";
            });    
        
        
        settings.SettingsDetail.AllowOnlyOneMasterRowExpanded = true;
        settings.SettingsDetail.ShowDetailRow = true;

        settings.SetDetailRowTemplateContent(c => Html.RenderAction("TablaGestor", new { tipoDashboard = ViewData["tipoDashboard"], indicador = ViewData["indicador"], despacho = ViewData["despacho"], supervisor = DataBinder.Eval(c.DataItem, "Identificador"), valor = DataBinder.Eval(c.DataItem, "Valor"), delegacion = ViewData["delegacion"] }));
        settings.PreRender = (sender, e) => {
           // ((MVCxGridView)sender).DetailRows.ExpandRow(0);
        };
    }).Bind(Model).GetHtml()